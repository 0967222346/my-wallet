<v-ons-page data-page="atomicswap">
  <custom-bar title="Atomic Swap Demo" menu="true"></custom-bar>
  <div>
    <v-ons-list>
      <v-ons-list-header>which currency you wanna give?</v-ons-list-header>
      <v-ons-list-item>
        <div class="center">Currency you give</div>
        <div class="right">
          <v-ons-select v-model="giveCoinId">
            <option v-for="l in coins" :value="l">{{l}}</option>
          </v-ons-select>
        </div>
      </v-ons-list-item>
      <v-ons-list-header>which currency, address to get?</v-ons-list-header>
      <v-ons-list-item>
        <div class="center">Currency you get</div>
        <div class="right">
          <v-ons-select v-model="getCoinId" @change="getLabels">
            <option v-for="l in coins" :value="l">{{l}}</option>
          </v-ons-select>
        </div>
      </v-ons-list-item>
      <v-ons-list-item>
        <div class="center">受信アドレスのラベル</div>
        <div class="right">
          <v-ons-select v-model="addrIndex" @change="getPubKey">
            <option v-for="(l,i) in labels" :value="i">{{l}}</option>
          </v-ons-select>
        </div>
      </v-ons-list-item>
      <v-ons-list-item v-show="getCoinCPAvailable">
        <div class="center">Counterparty Swap</div>
        <div class="right">
          <v-ons-switch v-model="getCoinIsCP"></v-ons-switch>
        </div>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-button modifier="large" @click="getPubKey">Get Public key</v-ons-button>
      </v-ons-list-item>
      <v-ons-list-header>If you start swap, make Secret</v-ons-list-header>
      <v-ons-list-item>
        <v-ons-input v-model="secret" placeholder="secret" @change="generateHash"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-header>Share data below.</v-ons-list-header>
      <v-ons-list-item>
        <v-ons-input v-model="secretHash" placeholder="secretHash"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-input v-model="addressWithSecret" placeholder="addressWithSecret"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-input v-model="addressWOSecret" placeholder="addressWOSecret"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-input v-model="lockTime" placeholder="Lock Time"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-button modifier="large" @click="generateP2SH">Get Address</v-ons-button>
      </v-ons-list-item>
      <v-ons-list-header>Deposit {{giveCoinId}} below</v-ons-list-header>
      <v-ons-list-item>
        <v-ons-input :value="myP2SH&&myP2SH.address" placeholder="myP2SH"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-header>Opponent will deposit here</v-ons-list-header>
      <v-ons-list-item>
        <v-ons-input :value="opponentP2SH&&opponentP2SH.address" placeholder="opponentP2SH"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-header>Redeem funds</v-ons-list-header>

      <div v-show="getCoinIsCP">
        <v-ons-list-item>
          <v-ons-input v-model="cpToken" placeholder="Counterparty Token"></v-ons-input>
        </v-ons-list-item>
        <v-ons-list-item>
          <div class="center">Is this token divisible token?</div>
          <div class="right">
            <v-ons-switch v-model="cpDivisible"></v-ons-switch>
          </div>
        </v-ons-list-item>
        <v-ons-list-item>
        <v-ons-input v-model="cpAmount" placeholder="Amount" type="number"></v-ons-input>
      </v-ons-list-item>
      </div>
      
      <v-ons-list-item>
        <v-ons-input v-model="secret" placeholder="Secret"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-input v-model="fee" placeholder="Fee(Satoshi)" type="number"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-input v-model="password" placeholder="Password" type="password"></v-ons-input>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-button modifier="large" @click="signTx">Let's go.</v-ons-button>
      </v-ons-list-item>
      <v-ons-list-item>
        <v-ons-button modifier="large" @click="signRefundTx">Refund</v-ons-button>
      </v-ons-list-item>
      <v-ons-list-item>
        <textarea :value="signedTx"></textarea>
      </v-ons-list-item>

    </v-ons-list>
    
  </div>
</v-ons-page>
